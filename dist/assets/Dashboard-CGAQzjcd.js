import{R as g,g as Me,r as _,j as a,I as Ne,X as Be,a as tt,P as rt,M as Fe,b as Ke,c as at,d as nt,T as fe,L as st,S as it,C as ot,e as lt,B as ct,V as dt,f as ut,N as mt,W as ft,h as xt,i as pt,A as ht}from"./index-DaCuWBGK.js";import{c as B,f as T,_ as Ve,a as gt,b as Xe,d as bt,i as V,T as be,p as C,L as $,g as ze,e as ve,h as qe,D as vt,C as yt,j as W,k as z,S as jt,A as wt,l as Nt,m as Ae,n as At,o as q,q as kt,u as Pt,G as Ot,r as re,s as St,t as Ge,v as _t,w as ee,x as ke,y as Tt,z as Et,R as Pe,B as Oe,E as It,X as Rt,Y as $t,F as Lt}from"./BarChart-hgWFuMxg.js";var Ct=["points","className","baseLinePoints","connectNulls"];function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G.apply(this,arguments)}function Dt(t,e){if(t==null)return{};var n=Mt(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Se(t){return Vt(t)||Kt(t)||Ft(t)||Bt()}function Bt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(t,e){if(t){if(typeof t=="string")return xe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(t,e)}}function Kt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vt(t){if(Array.isArray(t))return xe(t)}function xe(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _e=function(e){return e&&e.x===+e.x&&e.y===+e.y},Xt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){_e(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),_e(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},J=function(e,n){var r=Xt(e);n&&(r=[r.reduce(function(o,i){return[].concat(Se(o),Se(i))},[])]);var s=r.map(function(o){return o.reduce(function(i,l,f){return"".concat(i).concat(f===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},zt=function(e,n,r){var s=J(e,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(J(n.reverse(),r).slice(1))},qt=function(e){var n=e.points,r=e.className,s=e.baseLinePoints,o=e.connectNulls,i=Dt(e,Ct);if(!n||!n.length)return null;var l=B("recharts-polygon",r);if(s&&s.length){var f=i.stroke&&i.stroke!=="none",c=zt(n,s,o);return g.createElement("g",{className:l},g.createElement("path",G({},T(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),f?g.createElement("path",G({},T(i,!0),{fill:"none",d:J(n,o)})):null,f?g.createElement("path",G({},T(i,!0),{fill:"none",d:J(s,o)})):null)}var x=J(n,o);return g.createElement("path",G({},T(i,!0),{fill:x.slice(-1)==="Z"?i.fill:"none",className:l,d:x}))},Gt=Ve,Ht=gt,Wt=Xe;function Ut(t,e){return t&&t.length?Gt(t,Wt(e),Ht):void 0}var Yt=Ut;const Zt=Me(Yt);var Jt=Ve,Qt=Xe,er=bt;function tr(t,e){return t&&t.length?Jt(t,Qt(e),er):void 0}var rr=tr;const ar=Me(rr);var nr=["cx","cy","angle","ticks","axisLine"],sr=["ticks","tick","angle","tickFormatter","stroke"];function U(t){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(t)}function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q.apply(this,arguments)}function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Te(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ee(t,e){if(t==null)return{};var n=ir(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ir(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function or(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,We(r.key),r)}}function lr(t,e,n){return e&&Ie(t.prototype,e),n&&Ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cr(t,e,n){return e=se(e),dr(t,He()?Reflect.construct(e,n||[],se(t).constructor):e.apply(t,n))}function dr(t,e){if(e&&(U(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ur(t)}function ur(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function He(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(He=function(){return!!t})()}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},se(t)}function mr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},pe(t,e)}function le(t,e,n){return e=We(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function We(t){var e=fr(t,"string");return U(e)=="symbol"?e:e+""}function fr(t,e){if(U(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(U(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ce=function(t){function e(){return or(this,e),cr(this,e,arguments)}return mr(e,t),lr(e,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,o=this.props,i=o.angle,l=o.cx,f=o.cy;return C(l,f,s,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,o=r.cy,i=r.angle,l=r.ticks,f=Zt(l,function(x){return x.coordinate||0}),c=ar(l,function(x){return x.coordinate||0});return{cx:s,cy:o,startAngle:i,endAngle:i,innerRadius:c.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,o=r.cy,i=r.angle,l=r.ticks,f=r.axisLine,c=Ee(r,nr),x=l.reduce(function(p,u){return[Math.min(p[0],u.coordinate),Math.max(p[1],u.coordinate)]},[1/0,-1/0]),v=C(s,o,x[0],i),m=C(s,o,x[1],i),N=F(F(F({},T(c,!1)),{},{fill:"none"},T(f,!1)),{},{x1:v.x,y1:v.y,x2:m.x,y2:m.y});return g.createElement("line",Q({className:"recharts-polar-radius-axis-line"},N))}},{key:"renderTicks",value:function(){var r=this,s=this.props,o=s.ticks,i=s.tick,l=s.angle,f=s.tickFormatter,c=s.stroke,x=Ee(s,sr),v=this.getTickTextAnchor(),m=T(x,!1),N=T(i,!1),p=o.map(function(u,b){var j=r.getTickValueCoord(u),A=F(F(F(F({textAnchor:v,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},m),{},{stroke:"none",fill:c},N),{},{index:b},j),{},{payload:u});return g.createElement($,Q({className:B("recharts-polar-radius-axis-tick",ze(i)),key:"tick-".concat(u.coordinate)},ve(r.props,u,b)),e.renderTickItem(i,A,f?f(u.value,b):u.value))});return g.createElement($,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,s=r.ticks,o=r.axisLine,i=r.tick;return!s||!s.length?null:g.createElement($,{className:B("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),qe.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,o){var i;return g.isValidElement(r)?i=g.cloneElement(r,s):V(r)?i=r(s):i=g.createElement(be,Q({},s,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(_.PureComponent);le(ce,"displayName","PolarRadiusAxis");le(ce,"axisType","radiusAxis");le(ce,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X.apply(this,arguments)}function Re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Re(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ye(r.key),r)}}function pr(t,e,n){return e&&$e(t.prototype,e),n&&$e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hr(t,e,n){return e=ie(e),gr(t,Ue()?Reflect.construct(e,n||[],ie(t).constructor):e.apply(t,n))}function gr(t,e){if(e&&(Y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return br(t)}function br(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ue=function(){return!!t})()}function ie(t){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ie(t)}function vr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},he(t,e)}function de(t,e,n){return e=Ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ye(t){var e=yr(t,"string");return Y(e)=="symbol"?e:e+""}function yr(t,e){if(Y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jr=Math.PI/180,Le=1e-5,ue=function(t){function e(){return xr(this,e),hr(this,e,arguments)}return vr(e,t),pr(e,[{key:"getTickLineCoord",value:function(r){var s=this.props,o=s.cx,i=s.cy,l=s.radius,f=s.orientation,c=s.tickSize,x=c||8,v=C(o,i,l,r.coordinate),m=C(o,i,l+(f==="inner"?-1:1)*x,r.coordinate);return{x1:v.x,y1:v.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,o=Math.cos(-r.coordinate*jr),i;return o>Le?i=s==="outer"?"start":"end":o<-Le?i=s==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,o=r.cy,i=r.radius,l=r.axisLine,f=r.axisLineType,c=K(K({},T(this.props,!1)),{},{fill:"none"},T(l,!1));if(f==="circle")return g.createElement(vt,X({className:"recharts-polar-angle-axis-line"},c,{cx:s,cy:o,r:i}));var x=this.props.ticks,v=x.map(function(m){return C(s,o,i,m.coordinate)});return g.createElement(qt,X({className:"recharts-polar-angle-axis-line"},c,{points:v}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,o=s.ticks,i=s.tick,l=s.tickLine,f=s.tickFormatter,c=s.stroke,x=T(this.props,!1),v=T(i,!1),m=K(K({},x),{},{fill:"none"},T(l,!1)),N=o.map(function(p,u){var b=r.getTickLineCoord(p),j=r.getTickTextAnchor(p),A=K(K(K({textAnchor:j},x),{},{stroke:"none",fill:c},v),{},{index:u,payload:p,x:b.x2,y:b.y2});return g.createElement($,X({className:B("recharts-polar-angle-axis-tick",ze(i)),key:"tick-".concat(p.coordinate)},ve(r.props,p,u)),l&&g.createElement("line",X({className:"recharts-polar-angle-axis-tick-line"},m,b)),i&&e.renderTickItem(i,A,f?f(p.value,u):p.value))});return g.createElement($,{className:"recharts-polar-angle-axis-ticks"},N)}},{key:"render",value:function(){var r=this.props,s=r.ticks,o=r.radius,i=r.axisLine;return o<=0||!s||!s.length?null:g.createElement($,{className:B("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,o){var i;return g.isValidElement(r)?i=g.cloneElement(r,s):V(r)?i=r(s):i=g.createElement(be,X({},s,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(_.PureComponent);de(ue,"displayName","PolarAngleAxis");de(ue,"axisType","angleAxis");de(ue,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ae;function Z(t){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(t)}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H.apply(this,arguments)}function Ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ce(Object(n),!0).forEach(function(r){I(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Je(r.key),r)}}function Nr(t,e,n){return e&&De(t.prototype,e),n&&De(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ar(t,e,n){return e=oe(e),kr(t,Ze()?Reflect.construct(e,n||[],oe(t).constructor):e.apply(t,n))}function kr(t,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pr(t)}function Pr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ze=function(){return!!t})()}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oe(t)}function Or(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ge(t,e)}function I(t,e,n){return e=Je(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Je(t){var e=Sr(t,"string");return Z(e)=="symbol"?e:e+""}function Sr(t,e){if(Z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D=function(t){function e(n){var r;return wr(this,e),r=Ar(this,e,[n]),I(r,"pieRef",null),I(r,"sectorRefs",[]),I(r,"id",Pt("recharts-pie-")),I(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),V(s)&&s()}),I(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),V(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Or(e,t),Nr(e,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,l=o.labelLine,f=o.dataKey,c=o.valueKey,x=T(this.props,!1),v=T(i,!1),m=T(l,!1),N=i&&i.offsetRadius||20,p=r.map(function(u,b){var j=(u.startAngle+u.endAngle)/2,A=C(u.cx,u.cy,u.outerRadius+N,j),P=w(w(w(w({},x),u),{},{stroke:"none"},v),{},{index:b,textAnchor:e.getTextAnchor(A.x,u.cx)},A),R=w(w(w(w({},x),u),{},{fill:"none",stroke:u.fill},m),{},{index:b,points:[C(u.cx,u.cy,u.outerRadius,j),A]}),E=f;return W(f)&&W(c)?E="value":W(f)&&(E=c),g.createElement($,{key:"label-".concat(u.startAngle,"-").concat(u.endAngle,"-").concat(u.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,R,"line"),e.renderLabelItem(i,P,z(u,E)))});return g.createElement($,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var s=this,o=this.props,i=o.activeShape,l=o.blendStroke,f=o.inactiveShape;return r.map(function(c,x){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var v=s.isActiveIndex(x),m=f&&s.hasActiveIndex()?f:null,N=v?i:m,p=w(w({},c),{},{stroke:l?c.fill:c.stroke,tabIndex:-1});return g.createElement($,H({ref:function(b){b&&!s.sectorRefs.includes(b)&&s.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},ve(s.props,c,x),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(x)}),g.createElement(jt,H({option:N,isActive:v,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,o=s.sectors,i=s.isAnimationActive,l=s.animationBegin,f=s.animationDuration,c=s.animationEasing,x=s.animationId,v=this.state,m=v.prevSectors,N=v.prevIsAnimationActive;return g.createElement(wt,{begin:l,duration:f,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(x,"-").concat(N),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var u=p.t,b=[],j=o&&o[0],A=j.startAngle;return o.forEach(function(P,R){var E=m&&m[R],L=R>0?Nt(P,"paddingAngle",0):0;if(E){var M=Ae(E.endAngle-E.startAngle,P.endAngle-P.startAngle),d=w(w({},P),{},{startAngle:A+L,endAngle:A+M(u)+L});b.push(d),A=d.endAngle}else{var y=P.endAngle,h=P.startAngle,O=Ae(0,y-h),k=O(u),S=w(w({},P),{},{startAngle:A+L,endAngle:A+k+L});b.push(S),A=S.endAngle}}),g.createElement($,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[i].focus(),s.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,o=r.isAnimationActive,i=this.state.prevSectors;return o&&s&&s.length&&(!i||!At(i,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,o=s.hide,i=s.sectors,l=s.className,f=s.label,c=s.cx,x=s.cy,v=s.innerRadius,m=s.outerRadius,N=s.isAnimationActive,p=this.state.isAnimationFinished;if(o||!i||!i.length||!q(c)||!q(x)||!q(v)||!q(m))return null;var u=B("recharts-pie",l);return g.createElement($,{tabIndex:this.props.rootTabIndex,className:u,ref:function(j){r.pieRef=j}},this.renderSectors(),f&&this.renderLabels(i),qe.renderCallByParent(this.props,null,!1),(!N||p)&&kt.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,o){if(g.isValidElement(r))return g.cloneElement(r,s);if(V(r))return r(s);var i=B("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return g.createElement(yt,H({},s,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,s,o){if(g.isValidElement(r))return g.cloneElement(r,s);var i=o;if(V(r)&&(i=r(s),g.isValidElement(i)))return i;var l=B("recharts-pie-label-text",typeof r!="boolean"&&!V(r)?r.className:"");return g.createElement(be,H({},s,{alignmentBaseline:"middle",className:l}),i)}}])}(_.PureComponent);ae=D;I(D,"displayName","Pie");I(D,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ot.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});I(D,"parseDeltaAngle",function(t,e){var n=re(e-t),r=Math.min(Math.abs(e-t),360);return n*r});I(D,"getRealPieData",function(t){var e=t.data,n=t.children,r=T(t,!1),s=St(n,Ge);return e&&e.length?e.map(function(o,i){return w(w(w({payload:o},r),o),s&&s[i]&&s[i].props)}):s&&s.length?s.map(function(o){return w(w({},r),o.props)}):[]});I(D,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,s=e.width,o=e.height,i=_t(s,o),l=r+ee(t.cx,s,s/2),f=n+ee(t.cy,o,o/2),c=ee(t.innerRadius,i,0),x=ee(t.outerRadius,i,i*.8),v=t.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:l,cy:f,innerRadius:c,outerRadius:x,maxRadius:v}});I(D,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?w(w({},e.type.defaultProps),e.props):e.props,s=ae.getRealPieData(r);if(!s||!s.length)return null;var o=r.cornerRadius,i=r.startAngle,l=r.endAngle,f=r.paddingAngle,c=r.dataKey,x=r.nameKey,v=r.valueKey,m=r.tooltipType,N=Math.abs(r.minAngle),p=ae.parseCoordinateOfPie(r,n),u=ae.parseDeltaAngle(i,l),b=Math.abs(u),j=c;W(c)&&W(v)?(ke(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):W(c)&&(ke(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=v);var A=s.filter(function(d){return z(d,j,0)!==0}).length,P=(b>=360?A:A-1)*f,R=b-A*N-P,E=s.reduce(function(d,y){var h=z(y,j,0);return d+(q(h)?h:0)},0),L;if(E>0){var M;L=s.map(function(d,y){var h=z(d,j,0),O=z(d,x,y),k=(q(h)?h:0)/E,S;y?S=M.endAngle+re(u)*f*(h!==0?1:0):S=i;var ye=S+re(u)*((h!==0?N:0)+k*R),je=(S+ye)/2,we=(p.innerRadius+p.outerRadius)/2,Qe=[{name:O,value:h,payload:d,dataKey:j,type:m}],et=C(p.cx,p.cy,we,je);return M=w(w(w({percent:k,cornerRadius:o,name:O,tooltipPayload:Qe,midAngle:je,middleRadius:we,tooltipPosition:et},d),p),{},{value:z(d,j),startAngle:S,endAngle:ye,payload:d,paddingAngle:re(u)*f}),M})}return w(w({},p),{},{sectors:L,data:s})});var _r=Tt({chartName:"PieChart",GraphicalChild:D,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ue},{axisType:"radiusAxis",AxisComp:ce}],formatAxisMap:Et,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Tr=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState("other");_.useEffect(()=>{if(localStorage.getItem("installPromptDismissed")||window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone)return;const l=window.navigator.userAgent.toLowerCase(),f=/iphone|ipad|ipod/.test(l),c=/android/.test(l);f?(r("ios"),e(!0)):c&&(r("android"),e(!0))},[]);const s=o=>{e(!1),o&&localStorage.setItem("installPromptDismissed","true")};return t?a.jsxs("div",{className:"mb-8 bg-white rounded-2xl shadow-xl border border-blue-100 overflow-hidden relative animate-fade-in mx-1 mt-2",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full filter blur-3xl opacity-50 -translate-y-1/2 translate-x-1/2 pointer-events-none"}),a.jsxs("div",{className:"p-5 relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-blue-100 p-2.5 rounded-xl text-blue-600",children:a.jsx(Ne,{className:"text-2xl"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight",children:"Instalar App"}),a.jsx("p",{className:"text-xs text-blue-600 font-semibold",children:"Acesso rápido"})]})]}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Fechar aviso",children:a.jsx(Be,{className:"text-xl"})})]}),a.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed mb-5",children:["Adicione o ",a.jsx("span",{className:"font-bold text-gray-800",children:"MeuGasto"})," à sua tela inicial para usar como um aplicativo nativo, sem baixar nada."]}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:n==="ios"?a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700",children:[a.jsx("span",{className:"flex-shrink-0 flex items-center justify-center bg-white border border-gray-200 w-8 h-8 rounded-lg shadow-sm text-blue-600",children:a.jsx(tt,{className:"text-lg"})}),a.jsxs("span",{children:["1. Toque no botão ",a.jsx("span",{className:"font-bold",children:"Compartilhar"})]})]}),a.jsx("div",{className:"w-full h-px bg-gray-200"}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700",children:[a.jsx("span",{className:"flex-shrink-0 flex items-center justify-center bg-white border border-gray-200 w-8 h-8 rounded-lg shadow-sm text-gray-600",children:a.jsx(rt,{className:"text-lg"})}),a.jsxs("span",{children:["2. Escolha ",a.jsx("span",{className:"font-bold whitespace-nowrap",children:"Adicionar à Tela de Início"})]})]})]}):a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700",children:[a.jsx("span",{className:"flex-shrink-0 flex items-center justify-center bg-white border border-gray-200 w-8 h-8 rounded-lg shadow-sm text-gray-600",children:a.jsx(Fe,{className:"text-lg"})}),a.jsx("span",{children:"1. Toque no menu do navegador"})]}),a.jsx("div",{className:"w-full h-px bg-gray-200"}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700",children:[a.jsx("span",{className:"flex-shrink-0 flex items-center justify-center bg-white border border-gray-200 w-8 h-8 rounded-lg shadow-sm text-blue-600",children:a.jsx(Ne,{className:"text-lg"})}),a.jsxs("span",{children:["2. Selecione ",a.jsx("span",{className:"font-bold",children:"Adicionar à tela inicial"})]})]})]})}),a.jsx("button",{onClick:()=>s(!0),className:"w-full mt-4 text-xs font-medium text-gray-400 hover:text-gray-600 transition-colors text-center py-2",children:"Não mostrar novamente"})]})]}):null},Er=({isOpen:t,onClose:e,user:n,expenses:r=[],goals:s=[]})=>{if(_.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const o=n.xp||0,i=Ke(o),l=at(),f=r.some(m=>m.purchaseDate===l),c=s.length>0,x=n.currentStreak||0,v=[{id:1,title:"Registro Rápido",desc:"Adicione uma despesa hoje.",xp:20,icon:a.jsx(ot,{className:"text-white text-xl"}),color:"bg-blue-500",progress:f?1:0,total:1,isCompleted:f},{id:2,title:"Foco na Meta",desc:"Tenha pelo menos uma meta ativa.",xp:50,icon:a.jsx(lt,{className:"text-white text-xl"}),color:"bg-purple-500",progress:c?1:0,total:1,isCompleted:c},{id:3,title:"Mantenha o Fogo",desc:"Acesse o app por 3 dias seguidos.",xp:15,icon:a.jsx(ct,{className:"text-white text-xl"}),color:"bg-orange-500",progress:Math.min(x,3),total:3,isCompleted:x>=3}];return nt.createPortal(a.jsx("div",{className:"fixed inset-0 bg-gray-900/40 backdrop-blur-md flex justify-center items-center z-[9999] p-4 animate-fade-in",onClick:e,children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col border border-gray-100",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 relative overflow-hidden shrink-0 border-b border-blue-100",children:[a.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-40 h-40 bg-blue-300 opacity-20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-32 h-32 bg-indigo-300 opacity-10 rounded-full blur-3xl"}),a.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-white rounded-2xl border border-blue-200 shadow-sm shrink-0 aspect-square",children:a.jsx(fe,{className:"text-2xl text-blue-600 drop-shadow-sm"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold leading-tight text-blue-900",children:"Central de Conquistas"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"bg-white/60 px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider border border-blue-200 text-blue-800",children:["Nível ",i.level]}),a.jsx("span",{className:"text-blue-700 text-sm font-medium",children:i.title})]})]})]}),a.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center bg-white/60 hover:bg-white rounded-full transition-colors text-blue-800 border border-blue-100 shadow-sm shrink-0 aspect-square",children:a.jsx(Be,{className:"text-xl"})})]}),a.jsxs("div",{className:"mt-8 relative",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold text-blue-800 mb-2",children:[a.jsxs("span",{children:[o," XP"]}),a.jsxs("span",{children:["Próximo: ",i.maxXp===1/0?"∞":i.maxXp," XP"]})]}),a.jsx("div",{className:"w-full bg-white/50 rounded-full h-3 overflow-hidden shadow-inner ring-1 ring-blue-100",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-full rounded-full shadow-[0_0_10px_rgba(59,130,246,0.4)] relative transition-all duration-700 ease-out",style:{width:`${i.maxXp===1/0?100:Math.min(100,Math.max(0,(o-i.minXp)/(i.maxXp-i.minXp)*100))}%`},children:a.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite] skew-x-[-20deg] w-full"})})})]})]}),a.jsxs("div",{className:"overflow-y-auto p-5 space-y-8 flex-1 custom-scrollbar bg-gray-50/50",children:[a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("span",{className:"material-symbols-outlined text-orange-500 text-xl",children:"local_fire_department"}),a.jsx("h3",{className:"text-sm font-bold text-gray-600 uppercase tracking-wider",children:"Missões Diárias"})]}),a.jsx("div",{className:"space-y-3",children:v.map(m=>a.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 relative overflow-hidden group hover:shadow-md transition-shadow",children:[a.jsx("div",{className:`w-12 h-12 ${m.color} rounded-2xl flex items-center justify-center shadow-lg shadow-gray-200 shrink-0 aspect-square`,children:m.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("h4",{className:"font-bold text-gray-800 text-sm truncate",children:m.title}),a.jsx("span",{className:`text-[10px] font-bold px-2.5 py-1 rounded-full ${m.isCompleted?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:m.isCompleted?"Concluído":`+${m.xp} XP`})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-3 truncate",children:m.desc}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${m.isCompleted?"bg-green-500":m.color}`,style:{width:`${m.progress/m.total*100}%`}})}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 min-w-[24px] text-right",children:[m.progress,"/",m.total]})]})]})]},m.id))})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("span",{className:"material-symbols-outlined text-blue-500 text-xl",children:"map"}),a.jsx("h3",{className:"text-sm font-bold text-gray-600 uppercase tracking-wider",children:"Sua Jornada"})]}),a.jsx("div",{className:"relative pl-2",children:a.jsx("div",{className:"space-y-6",children:st.map(m=>{const N=o>=m.minXp,p=i.level===m.level;let u="bg-gray-100",b="border-gray-200",j="text-gray-400",A="bg-gray-50 border-gray-100 opacity-70 grayscale",P="Bloqueado";N&&(u="bg-green-100",b="border-green-500",j="text-green-600",A="bg-white border-gray-200 shadow-sm",P="Conquistado"),p&&(u="bg-blue-50",b="border-blue-400",j="text-blue-600",A="bg-white border-blue-200 shadow-md ring-2 ring-blue-50 scale-[1.02] z-20",P="Nível Atual");const R=["Emblema: Iniciante","Relatórios Básicos","Emblema: Organizado","Tema Escuro (Em breve)","Suporte VIP","Emblema: Magnata"];return a.jsxs("div",{className:"relative flex gap-4 items-start",children:[a.jsx("div",{className:"relative z-10 flex flex-col items-center shrink-0 pt-1",children:a.jsx("div",{className:`w-11 h-11 rounded-full border-[3px] flex items-center justify-center font-bold text-sm transition-all duration-300 shrink-0 aspect-square ${u} ${b} ${j} ${p?"shadow-lg shadow-blue-100":""}`,children:p||N?a.jsx(fe,{className:p?"text-lg":"text-base"}):m.level})}),a.jsxs("div",{className:`flex-1 min-w-0 p-4 rounded-2xl border transition-all duration-300 relative ${A}`,children:[p&&a.jsx("div",{className:"absolute top-5 -left-1.5 w-3 h-3 bg-white border-l border-b border-blue-200 transform rotate-45"}),a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("h4",{className:`font-bold text-sm truncate ${p?"text-gray-900":"text-gray-800"}`,children:m.title}),a.jsx("span",{className:`text-[9px] uppercase font-bold px-2 py-0.5 rounded-md border flex-shrink-0 ml-2 ${p?"bg-blue-100 text-blue-700 border-blue-200":"bg-gray-100 text-gray-500 border-gray-200"}`,children:P})]}),a.jsxs("p",{className:"text-xs text-gray-500 font-medium mb-3",children:[m.minXp," XP Necessários"]}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl text-[10px] font-medium border ${p?"bg-blue-50 border-blue-100 text-blue-800":"bg-gray-50 border-gray-100 text-gray-500"}`,children:[a.jsx(it,{className:`text-sm ${N||p?"text-yellow-500":"text-gray-300"}`}),a.jsx("span",{className:"truncate",children:R[m.level-1]||"Recompensa Secreta"})]})]})]},m.level)})})})]})]})]})}),document.body)},Ir=({user:t,expenses:e=[],goals:n=[]})=>{const[r,s]=_.useState(!1),o=t.xp||0,i=t.currentStreak||0,l=Ke(o),f=l.maxXp===1/0?o:l.maxXp,c=l.minXp,x=l.maxXp===1/0?100:Math.min(100,Math.max(0,(o-c)/(f-c)*100));return a.jsxs(a.Fragment,{children:[a.jsxs("div",{onClick:()=>s(!0),className:"group w-full cursor-pointer overflow-hidden rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 p-5 shadow-sm transition-all duration-300 hover:scale-[1.01] hover:shadow-md border border-blue-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"relative flex h-10 w-10 items-center justify-center rounded-xl bg-white border border-blue-100 shadow-sm text-blue-600 shrink-0 aspect-square",children:a.jsx(fe,{className:"text-xl drop-shadow-sm"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-blue-900 leading-tight",children:l.title}),a.jsxs("div",{className:"text-[10px] font-bold text-blue-600/80 mt-0.5 uppercase tracking-wide",children:["Nível ",l.level]})]})]}),i>0&&a.jsxs("div",{className:"flex items-center gap-1.5 bg-white border border-blue-100 px-3 py-1.5 rounded-lg shadow-sm",children:[a.jsx("span",{className:"material-symbols-outlined text-base text-orange-500 animate-pulse",children:"local_fire_department"}),a.jsx("span",{className:"text-xs font-bold text-blue-900",children:i})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between items-end mb-1.5",children:[a.jsx("span",{className:"text-[10px] font-bold text-blue-700 uppercase tracking-wider",children:"XP"}),a.jsxs("span",{className:"text-[10px] font-bold text-blue-700",children:[Math.round(x),"%"]})]}),a.jsx("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-blue-100/60 border border-blue-100",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-400 to-indigo-500 shadow-[0_0_10px_rgba(59,130,246,0.4)] transition-all duration-1000 ease-out",style:{width:`${x}%`}})})]})]}),a.jsx(Er,{isOpen:r,onClose:()=>s(!1),user:t,expenses:e,goals:n})]})},te=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#6366F1","#14B8A6"],ne=({value:t,isHidden:e,className:n})=>e?a.jsx("span",{className:`tracking-widest ${n}`,children:"••••••"}):a.jsx("span",{className:n,children:t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),me=({title:t,value:e,icon:n,iconBgColor:r,valueColor:s="text-gray-800",isHidden:o})=>a.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm flex items-center space-x-4 overflow-hidden border border-gray-100 transition-transform hover:scale-[1.02]",children:[a.jsx("div",{className:`w-12 h-12 min-w-[3rem] min-h-[3rem] flex items-center justify-center rounded-full flex-shrink-0 aspect-square ${r} text-white shadow-sm`,children:n}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-0.5",children:t}),a.jsx(ne,{value:e,isHidden:o,className:`text-2xl font-bold ${s} truncate block`})]})]}),Lr=({expenses:t,isLoading:e,userProfile:n,onManageReminders:r,reminders:s=[],onViewAll:o,goals:i=[]})=>{var M;const[l,f]=_.useState(!1),[c,x]=_.useState("month"),v=_.useMemo(()=>{if(c==="all")return t;const d=new Date,y=d.getMonth(),h=d.getFullYear();return t.filter(O=>{const k=new Date(O.purchaseDate+"T00:00:00");return k.getMonth()===y&&k.getFullYear()===h})},[t,c]),m=_.useMemo(()=>{const d=new Map;v.filter(k=>k.type==="expense"||!k.type).forEach(k=>{const S=d.get(k.category)||0;d.set(k.category,S+k.total)});const y=Array.from(d.entries()).map(([k,S])=>({name:k,value:S})).sort((k,S)=>S.value-k.value);if(y.length<=5)return y;const h=y.slice(0,5),O=y.slice(5).reduce((k,S)=>k+S.value,0);return O>0&&h.push({name:"Outros",value:O}),h},[v]),N=_.useMemo(()=>m.reduce((d,y)=>d+y.value,0),[m]),p=_.useMemo(()=>{const d=new Map;return t.filter(h=>h.type==="expense"||!h.type).forEach(h=>{const O=h.purchaseDate.substring(0,7),k=d.get(O)||0;d.set(O,k+h.total)}),Array.from(d.keys()).sort().slice(-6).map(h=>({name:new Date(h+"-02").toLocaleString("pt-BR",{month:"short"}).replace(".",""),Gasto:d.get(h)}))},[t]),u=_.useMemo(()=>{let d=0,y=0;return v.forEach(h=>{h.type==="income"?d+=h.total:y+=h.total}),{income:d,expense:y,balance:d-y}},[v]),b=_.useMemo(()=>{if(u.income===0)return 100;const d=u.expense/u.income*100;return Math.min(d,100)},[u]),j=()=>{const d=new Date().getHours();return d<12?"Bom dia":d<18?"Boa tarde":"Boa noite"},A=((M=n.name)==null?void 0:M.split(" ")[0])||"Usuário",P=_.useMemo(()=>{if(!s||s.length===0)return null;const d=new Date,y=s.filter(h=>new Date(`${h.date}T${h.time}:00`)>d).sort((h,O)=>{const k=new Date(`${h.date}T${h.time}:00`),S=new Date(`${O.date}T${O.time}:00`);return k.getTime()-S.getTime()});return y.length>0?y[0]:null},[s]);let R="Sem lembretes pendentes.",E="text-gray-500";if(P){const y=new Date(`${P.date}T${P.time}:00`).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"});R=`${P.title} - ${y} às ${P.time}`,E="text-orange-600 font-medium"}const L=_.useMemo(()=>[...t].sort((d,y)=>new Date(y.purchaseDate).getTime()-new Date(d.purchaseDate).getTime()).slice(0,5),[t]);return a.jsxs("div",{className:"p-4 space-y-6 pb-24",children:[a.jsx(Tr,{}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:`${j()}, ${A}!`}),a.jsx("button",{onClick:()=>f(!l),className:"text-gray-400 hover:text-blue-600 p-1 rounded-full transition-colors","aria-label":l?"Mostrar valores":"Ocultar valores",children:l?a.jsx(dt,{className:"text-xl"}):a.jsx(ut,{className:"text-xl"})})]}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Aqui está o resumo das suas finanças."})]}),a.jsxs("div",{className:"bg-gray-100 p-1 rounded-xl flex text-sm font-medium",children:[a.jsx("button",{onClick:()=>x("month"),className:`px-4 py-2 rounded-lg transition-all ${c==="month"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Este Mês"}),a.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg transition-all ${c==="all"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Geral"})]})]}),a.jsx(Ir,{user:n,expenses:t,goals:i}),a.jsxs("div",{className:`grid grid-cols-1 gap-4 ${u.income>0?"md:grid-cols-2":""}`,children:[u.income>0&&a.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 h-full flex flex-col justify-center",children:[a.jsxs("div",{className:"flex justify-between items-end mb-2",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["Saúde Financeira (",c==="month"?"Mês":"Geral",")"]}),a.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${b>90?"bg-red-100 text-red-700":b>70?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:[b.toFixed(0),"% Comprometido"]})]}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2.5 overflow-hidden",children:a.jsx("div",{className:`h-2.5 rounded-full transition-all duration-1000 ${b>90?"bg-red-500":b>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${b}%`}})})]}),a.jsxs("div",{onClick:r,className:"bg-gradient-to-r from-orange-50 to-white p-4 rounded-2xl shadow-sm flex justify-between items-center border border-orange-100 cursor-pointer hover:shadow-md transition-shadow h-full",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 min-w-[2.5rem] min-h-[2.5rem] flex items-center justify-center bg-white rounded-full text-orange-500 shadow-sm shrink-0 aspect-square",children:a.jsx(mt,{className:"text-xl"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-bold text-gray-800 text-xs uppercase tracking-wide",children:"Lembretes"}),a.jsx("p",{className:`text-sm truncate ${E}`,children:R})]})]}),a.jsx(Fe,{className:"text-gray-400"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(me,{title:"Saldo (Período)",value:u.balance,icon:a.jsx(ft,{className:"text-xl"}),iconBgColor:u.balance>=0?"bg-blue-600":"bg-red-600",valueColor:u.balance>=0?"text-blue-700":"text-red-600",isHidden:l}),a.jsx(me,{title:"Entradas",value:u.income,icon:a.jsx(xt,{className:"text-xl"}),iconBgColor:"bg-green-500",valueColor:"text-green-600",isHidden:l}),a.jsx(me,{title:"Saídas",value:u.expense,icon:a.jsx("span",{className:"material-symbols-outlined text-xl",children:"trending_down"}),iconBgColor:"bg-red-500",valueColor:"text-red-600",isHidden:l})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-6 flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"donut_large"}),"Categorias (",c==="month"?"Mês":"Geral",")"]}),m.length>0?a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[a.jsxs("div",{className:"relative w-[200px] h-[200px] flex-shrink-0",children:[a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-0",children:[a.jsx("span",{className:"text-xs text-gray-400 font-medium uppercase tracking-wide",children:"Total"}),a.jsx("span",{className:"text-lg font-extrabold text-gray-800",children:a.jsx(ne,{value:N,isHidden:l})})]}),a.jsx("div",{className:"relative z-10 w-full h-full",children:a.jsx(Pe,{width:"100%",height:"100%",children:a.jsxs(_r,{children:[a.jsx(D,{data:m,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:65,outerRadius:85,paddingAngle:4,cornerRadius:4,stroke:"none",children:m.map((d,y)=>a.jsx(Ge,{fill:te[y%te.length]},`cell-${y}`))}),a.jsx(Oe,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:50},formatter:d=>l?"••••••":d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})})})]}),a.jsx("div",{className:"flex-1 w-full space-y-3",children:m.map((d,y)=>{const h=N>0?d.value/N*100:0,O=te[y%te.length];return a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("div",{className:"w-2 h-8 rounded-full",style:{backgroundColor:O}}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:d.name}),a.jsx("span",{className:"text-sm font-bold text-gray-800",children:a.jsx(ne,{value:d.value,isHidden:l})})]}),a.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full",style:{width:`${h}%`,backgroundColor:O}})})]}),a.jsxs("span",{className:"text-xs font-medium text-gray-500 min-w-[32px] text-right",children:[h.toFixed(0),"%"]})]},y)})})]}):a.jsxs("div",{className:"h-48 flex flex-col items-center justify-center text-gray-400",children:[a.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-30",children:"donut_small"}),a.jsx("p",{className:"text-sm",children:"Nenhuma despesa para exibir."})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"bar_chart"}),"Histórico de Gastos"]}),a.jsx("span",{className:"text-xs text-gray-400 bg-gray-50 px-2 py-1 rounded",children:"Últimos 6 meses"})]}),a.jsx("div",{className:"h-64 w-full",children:a.jsx(Pe,{width:"100%",height:"100%",children:p.length>0?a.jsxs(It,{data:p,margin:{top:10,right:10,left:-20,bottom:0},children:[a.jsx(Rt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9CA3AF"},dy:10}),a.jsx($t,{hide:!0}),a.jsx(Oe,{cursor:{fill:"#F3F4F6"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:d=>l?"••••••":d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),a.jsx(Lt,{dataKey:"Gasto",fill:"#60A5FA",radius:[4,4,0,0],barSize:32})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"Sem histórico disponível"})})})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 h-full",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h2",{className:"font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(pt,{className:"text-gray-400"}),"Últimos Registros"]})}),L.length>0?a.jsx("div",{className:"space-y-4",children:L.map(d=>a.jsxs("div",{className:"flex items-center justify-between group",children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a.jsx("div",{className:`w-8 h-8 min-w-[2rem] min-h-[2rem] rounded-full flex items-center justify-center flex-shrink-0 aspect-square ${d.type==="income"?"bg-green-50 text-green-600":"bg-red-50 text-red-500"}`,children:a.jsx("span",{className:"material-symbols-outlined text-sm",children:d.type==="income"?"trending_up":"shopping_bag"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700 truncate",children:d.localName}),a.jsxs("p",{className:"text-[10px] text-gray-400 truncate",children:[new Date(d.purchaseDate+"T00:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})," • ",d.category]})]})]}),a.jsxs("div",{className:`text-sm font-bold whitespace-nowrap ${d.type==="income"?"text-green-600":"text-gray-800"}`,children:[d.type==="income"?"+":"-",a.jsx(ne,{value:d.total,isHidden:l})]})]},d.id))}):a.jsxs("div",{className:"h-40 flex flex-col items-center justify-center text-gray-400 text-center",children:[a.jsx("span",{className:"material-symbols-outlined text-3xl mb-2 opacity-50",children:"receipt_long"}),a.jsx("p",{className:"text-sm",children:"Nenhum lançamento recente."})]}),t.length>5&&a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-50",children:a.jsxs("button",{onClick:o,className:"w-full text-xs font-bold text-blue-600 hover:text-blue-700 flex items-center justify-center gap-1 uppercase tracking-wide",children:["Ver todos ",a.jsx(ht,{className:"text-sm"})]})})]})})]})]})};export{Lr as Dashboard};
//# sourceMappingURL=Dashboard-CGAQzjcd.js.map
