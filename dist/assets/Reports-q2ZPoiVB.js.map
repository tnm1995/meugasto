{"version":3,"file":"Reports-q2ZPoiVB.js","sources":["../../node_modules/recharts/es6/cartesian/CartesianGrid.js","../../components/Reports.tsx"],"sourcesContent":["var _excluded = [\"x1\", \"y1\", \"x2\", \"y2\", \"key\"],\n  _excluded2 = [\"offset\"];\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\n/**\n * @fileOverview Cartesian Grid\n */\nimport React from 'react';\nimport isFunction from 'lodash/isFunction';\nimport { warn } from '../util/LogUtils';\nimport { isNumber } from '../util/DataUtils';\nimport { filterProps } from '../util/ReactUtils';\nimport { getCoordinatesOfGrid, getTicksOfAxis } from '../util/ChartUtils';\nimport { getTicks } from './getTicks';\nimport { CartesianAxis } from './CartesianAxis';\nimport { useArbitraryXAxis, useChartHeight, useChartWidth, useOffset, useYAxisWithFiniteDomainOrRandom } from '../context/chartLayoutContext';\n\n/**\n * The <CartesianGrid horizontal\n */\n\nvar Background = function Background(props) {\n  var fill = props.fill;\n  if (!fill || fill === 'none') {\n    return null;\n  }\n  var fillOpacity = props.fillOpacity,\n    x = props.x,\n    y = props.y,\n    width = props.width,\n    height = props.height,\n    ry = props.ry;\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    ry: ry,\n    width: width,\n    height: height,\n    stroke: \"none\",\n    fill: fill,\n    fillOpacity: fillOpacity,\n    className: \"recharts-cartesian-grid-bg\"\n  });\n};\nfunction renderLineItem(option, props) {\n  var lineItem;\n  if ( /*#__PURE__*/React.isValidElement(option)) {\n    // @ts-expect-error typescript does not see the props type when cloning an element\n    lineItem = /*#__PURE__*/React.cloneElement(option, props);\n  } else if (isFunction(option)) {\n    lineItem = option(props);\n  } else {\n    var x1 = props.x1,\n      y1 = props.y1,\n      x2 = props.x2,\n      y2 = props.y2,\n      key = props.key,\n      others = _objectWithoutProperties(props, _excluded);\n    var _filterProps = filterProps(others, false),\n      __ = _filterProps.offset,\n      restOfFilteredProps = _objectWithoutProperties(_filterProps, _excluded2);\n    lineItem = /*#__PURE__*/React.createElement(\"line\", _extends({}, restOfFilteredProps, {\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2,\n      fill: \"none\",\n      key: key\n    }));\n  }\n  return lineItem;\n}\nfunction HorizontalGridLines(props) {\n  var x = props.x,\n    width = props.width,\n    _props$horizontal = props.horizontal,\n    horizontal = _props$horizontal === void 0 ? true : _props$horizontal,\n    horizontalPoints = props.horizontalPoints;\n  if (!horizontal || !horizontalPoints || !horizontalPoints.length) {\n    return null;\n  }\n  var items = horizontalPoints.map(function (entry, i) {\n    var lineItemProps = _objectSpread(_objectSpread({}, props), {}, {\n      x1: x,\n      y1: entry,\n      x2: x + width,\n      y2: entry,\n      key: \"line-\".concat(i),\n      index: i\n    });\n    return renderLineItem(horizontal, lineItemProps);\n  });\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"recharts-cartesian-grid-horizontal\"\n  }, items);\n}\nfunction VerticalGridLines(props) {\n  var y = props.y,\n    height = props.height,\n    _props$vertical = props.vertical,\n    vertical = _props$vertical === void 0 ? true : _props$vertical,\n    verticalPoints = props.verticalPoints;\n  if (!vertical || !verticalPoints || !verticalPoints.length) {\n    return null;\n  }\n  var items = verticalPoints.map(function (entry, i) {\n    var lineItemProps = _objectSpread(_objectSpread({}, props), {}, {\n      x1: entry,\n      y1: y,\n      x2: entry,\n      y2: y + height,\n      key: \"line-\".concat(i),\n      index: i\n    });\n    return renderLineItem(vertical, lineItemProps);\n  });\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"recharts-cartesian-grid-vertical\"\n  }, items);\n}\nfunction HorizontalStripes(props) {\n  var horizontalFill = props.horizontalFill,\n    fillOpacity = props.fillOpacity,\n    x = props.x,\n    y = props.y,\n    width = props.width,\n    height = props.height,\n    horizontalPoints = props.horizontalPoints,\n    _props$horizontal2 = props.horizontal,\n    horizontal = _props$horizontal2 === void 0 ? true : _props$horizontal2;\n  if (!horizontal || !horizontalFill || !horizontalFill.length) {\n    return null;\n  }\n\n  // Why =y -y? I was trying to find any difference that this makes, with floating point numbers and edge cases but ... nothing.\n  var roundedSortedHorizontalPoints = horizontalPoints.map(function (e) {\n    return Math.round(e + y - y);\n  }).sort(function (a, b) {\n    return a - b;\n  });\n  // Why is this condition `!==` instead of `<=` ?\n  if (y !== roundedSortedHorizontalPoints[0]) {\n    roundedSortedHorizontalPoints.unshift(0);\n  }\n  var items = roundedSortedHorizontalPoints.map(function (entry, i) {\n    // Why do we strip only the last stripe if it is invisible, and not all invisible stripes?\n    var lastStripe = !roundedSortedHorizontalPoints[i + 1];\n    var lineHeight = lastStripe ? y + height - entry : roundedSortedHorizontalPoints[i + 1] - entry;\n    if (lineHeight <= 0) {\n      return null;\n    }\n    var colorIndex = i % horizontalFill.length;\n    return /*#__PURE__*/React.createElement(\"rect\", {\n      key: \"react-\".concat(i) // eslint-disable-line react/no-array-index-key\n      ,\n      y: entry,\n      x: x,\n      height: lineHeight,\n      width: width,\n      stroke: \"none\",\n      fill: horizontalFill[colorIndex],\n      fillOpacity: fillOpacity,\n      className: \"recharts-cartesian-grid-bg\"\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"recharts-cartesian-gridstripes-horizontal\"\n  }, items);\n}\nfunction VerticalStripes(props) {\n  var _props$vertical2 = props.vertical,\n    vertical = _props$vertical2 === void 0 ? true : _props$vertical2,\n    verticalFill = props.verticalFill,\n    fillOpacity = props.fillOpacity,\n    x = props.x,\n    y = props.y,\n    width = props.width,\n    height = props.height,\n    verticalPoints = props.verticalPoints;\n  if (!vertical || !verticalFill || !verticalFill.length) {\n    return null;\n  }\n  var roundedSortedVerticalPoints = verticalPoints.map(function (e) {\n    return Math.round(e + x - x);\n  }).sort(function (a, b) {\n    return a - b;\n  });\n  if (x !== roundedSortedVerticalPoints[0]) {\n    roundedSortedVerticalPoints.unshift(0);\n  }\n  var items = roundedSortedVerticalPoints.map(function (entry, i) {\n    var lastStripe = !roundedSortedVerticalPoints[i + 1];\n    var lineWidth = lastStripe ? x + width - entry : roundedSortedVerticalPoints[i + 1] - entry;\n    if (lineWidth <= 0) {\n      return null;\n    }\n    var colorIndex = i % verticalFill.length;\n    return /*#__PURE__*/React.createElement(\"rect\", {\n      key: \"react-\".concat(i) // eslint-disable-line react/no-array-index-key\n      ,\n      x: entry,\n      y: y,\n      width: lineWidth,\n      height: height,\n      stroke: \"none\",\n      fill: verticalFill[colorIndex],\n      fillOpacity: fillOpacity,\n      className: \"recharts-cartesian-grid-bg\"\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"recharts-cartesian-gridstripes-vertical\"\n  }, items);\n}\nvar defaultVerticalCoordinatesGenerator = function defaultVerticalCoordinatesGenerator(_ref, syncWithTicks) {\n  var xAxis = _ref.xAxis,\n    width = _ref.width,\n    height = _ref.height,\n    offset = _ref.offset;\n  return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), xAxis), {}, {\n    ticks: getTicksOfAxis(xAxis, true),\n    viewBox: {\n      x: 0,\n      y: 0,\n      width: width,\n      height: height\n    }\n  })), offset.left, offset.left + offset.width, syncWithTicks);\n};\nvar defaultHorizontalCoordinatesGenerator = function defaultHorizontalCoordinatesGenerator(_ref2, syncWithTicks) {\n  var yAxis = _ref2.yAxis,\n    width = _ref2.width,\n    height = _ref2.height,\n    offset = _ref2.offset;\n  return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), yAxis), {}, {\n    ticks: getTicksOfAxis(yAxis, true),\n    viewBox: {\n      x: 0,\n      y: 0,\n      width: width,\n      height: height\n    }\n  })), offset.top, offset.top + offset.height, syncWithTicks);\n};\nvar defaultProps = {\n  horizontal: true,\n  vertical: true,\n  // The ordinates of horizontal grid lines\n  horizontalPoints: [],\n  // The abscissas of vertical grid lines\n  verticalPoints: [],\n  stroke: '#ccc',\n  fill: 'none',\n  // The fill of colors of grid lines\n  verticalFill: [],\n  horizontalFill: []\n};\nexport function CartesianGrid(props) {\n  var _props$stroke, _props$fill, _props$horizontal3, _props$horizontalFill, _props$vertical3, _props$verticalFill;\n  var chartWidth = useChartWidth();\n  var chartHeight = useChartHeight();\n  var offset = useOffset();\n  var propsIncludingDefaults = _objectSpread(_objectSpread({}, props), {}, {\n    stroke: (_props$stroke = props.stroke) !== null && _props$stroke !== void 0 ? _props$stroke : defaultProps.stroke,\n    fill: (_props$fill = props.fill) !== null && _props$fill !== void 0 ? _props$fill : defaultProps.fill,\n    horizontal: (_props$horizontal3 = props.horizontal) !== null && _props$horizontal3 !== void 0 ? _props$horizontal3 : defaultProps.horizontal,\n    horizontalFill: (_props$horizontalFill = props.horizontalFill) !== null && _props$horizontalFill !== void 0 ? _props$horizontalFill : defaultProps.horizontalFill,\n    vertical: (_props$vertical3 = props.vertical) !== null && _props$vertical3 !== void 0 ? _props$vertical3 : defaultProps.vertical,\n    verticalFill: (_props$verticalFill = props.verticalFill) !== null && _props$verticalFill !== void 0 ? _props$verticalFill : defaultProps.verticalFill,\n    x: isNumber(props.x) ? props.x : offset.left,\n    y: isNumber(props.y) ? props.y : offset.top,\n    width: isNumber(props.width) ? props.width : offset.width,\n    height: isNumber(props.height) ? props.height : offset.height\n  });\n  var x = propsIncludingDefaults.x,\n    y = propsIncludingDefaults.y,\n    width = propsIncludingDefaults.width,\n    height = propsIncludingDefaults.height,\n    syncWithTicks = propsIncludingDefaults.syncWithTicks,\n    horizontalValues = propsIncludingDefaults.horizontalValues,\n    verticalValues = propsIncludingDefaults.verticalValues;\n\n  // @ts-expect-error the scale prop is mixed up - we need to untagle this at some point\n  var xAxis = useArbitraryXAxis();\n  // @ts-expect-error the scale prop is mixed up - we need to untagle this at some point\n  var yAxis = useYAxisWithFiniteDomainOrRandom();\n  if (!isNumber(width) || width <= 0 || !isNumber(height) || height <= 0 || !isNumber(x) || x !== +x || !isNumber(y) || y !== +y) {\n    return null;\n  }\n\n  /*\n   * verticalCoordinatesGenerator and horizontalCoordinatesGenerator are defined\n   * outside of the propsIncludingDefaults because they were never part of the original props\n   * and they were never passed as a prop down to horizontal/vertical custom elements.\n   * If we add these two to propsIncludingDefaults then we are changing public API.\n   * Not a bad thing per se but also not necessary.\n   */\n  var verticalCoordinatesGenerator = propsIncludingDefaults.verticalCoordinatesGenerator || defaultVerticalCoordinatesGenerator;\n  var horizontalCoordinatesGenerator = propsIncludingDefaults.horizontalCoordinatesGenerator || defaultHorizontalCoordinatesGenerator;\n  var horizontalPoints = propsIncludingDefaults.horizontalPoints,\n    verticalPoints = propsIncludingDefaults.verticalPoints;\n\n  // No horizontal points are specified\n  if ((!horizontalPoints || !horizontalPoints.length) && isFunction(horizontalCoordinatesGenerator)) {\n    var isHorizontalValues = horizontalValues && horizontalValues.length;\n    var generatorResult = horizontalCoordinatesGenerator({\n      yAxis: yAxis ? _objectSpread(_objectSpread({}, yAxis), {}, {\n        ticks: isHorizontalValues ? horizontalValues : yAxis.ticks\n      }) : undefined,\n      width: chartWidth,\n      height: chartHeight,\n      offset: offset\n    }, isHorizontalValues ? true : syncWithTicks);\n    warn(Array.isArray(generatorResult), \"horizontalCoordinatesGenerator should return Array but instead it returned [\".concat(_typeof(generatorResult), \"]\"));\n    if (Array.isArray(generatorResult)) {\n      horizontalPoints = generatorResult;\n    }\n  }\n\n  // No vertical points are specified\n  if ((!verticalPoints || !verticalPoints.length) && isFunction(verticalCoordinatesGenerator)) {\n    var isVerticalValues = verticalValues && verticalValues.length;\n    var _generatorResult = verticalCoordinatesGenerator({\n      xAxis: xAxis ? _objectSpread(_objectSpread({}, xAxis), {}, {\n        ticks: isVerticalValues ? verticalValues : xAxis.ticks\n      }) : undefined,\n      width: chartWidth,\n      height: chartHeight,\n      offset: offset\n    }, isVerticalValues ? true : syncWithTicks);\n    warn(Array.isArray(_generatorResult), \"verticalCoordinatesGenerator should return Array but instead it returned [\".concat(_typeof(_generatorResult), \"]\"));\n    if (Array.isArray(_generatorResult)) {\n      verticalPoints = _generatorResult;\n    }\n  }\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"recharts-cartesian-grid\"\n  }, /*#__PURE__*/React.createElement(Background, {\n    fill: propsIncludingDefaults.fill,\n    fillOpacity: propsIncludingDefaults.fillOpacity,\n    x: propsIncludingDefaults.x,\n    y: propsIncludingDefaults.y,\n    width: propsIncludingDefaults.width,\n    height: propsIncludingDefaults.height,\n    ry: propsIncludingDefaults.ry\n  }), /*#__PURE__*/React.createElement(HorizontalGridLines, _extends({}, propsIncludingDefaults, {\n    offset: offset,\n    horizontalPoints: horizontalPoints,\n    xAxis: xAxis,\n    yAxis: yAxis\n  })), /*#__PURE__*/React.createElement(VerticalGridLines, _extends({}, propsIncludingDefaults, {\n    offset: offset,\n    verticalPoints: verticalPoints,\n    xAxis: xAxis,\n    yAxis: yAxis\n  })), /*#__PURE__*/React.createElement(HorizontalStripes, _extends({}, propsIncludingDefaults, {\n    horizontalPoints: horizontalPoints\n  })), /*#__PURE__*/React.createElement(VerticalStripes, _extends({}, propsIncludingDefaults, {\n    verticalPoints: verticalPoints\n  })));\n}\nCartesianGrid.displayName = 'CartesianGrid';","\nimport React, { useState, useMemo } from 'react';\nimport type { Expense } from '../types';\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid, Legend } from 'recharts';\nimport { PaymentsIcon, CalculateIcon, CategoryIcon, DownloadIcon, ShowChartIcon, CalendarTodayIcon, TrendingUpIcon, WalletIcon } from './Icons';\nimport { filterExpensesByPeriod } from '../services/utils';\n\ninterface ReportsProps {\n  expenses: Expense[];\n  isLoadingExpenses: boolean;\n}\n\ntype Period = 'this-month' | 'last-month' | 'last-7-days' | 'custom';\n\n// Helper para mapear ícones de categoria\nconst getCategoryIcon = (category: string) => {\n    const map: Record<string, string> = {\n        'Alimentação': 'restaurant',\n        'Moradia': 'home',\n        'Transporte': 'directions_car',\n        'Lazer': 'movie',\n        'Saúde': 'medical_services',\n        'Cuidados Pessoais': 'self_improvement',\n        'Vestuário': 'checkroom',\n        'Educação': 'school',\n        'Compras': 'shopping_bag',\n        'Serviços': 'build',\n        'Impostos e Taxas': 'account_balance',\n        'Investimentos': 'trending_up',\n        'Dívidas e Empréstimos': 'credit_card',\n        'Outros': 'category'\n    };\n    return map[category] || 'category';\n};\n\nconst StatCard: React.FC<{ \n    title: string; \n    value: string; \n    icon: React.ReactNode; \n    iconBgColor: string; \n    trend?: number; \n    trendLabel?: string;\n    inverseTrend?: boolean; // Se true, aumento é ruim (ex: gastos). Se false, aumento é bom (ex: economia/renda).\n}> = ({ title, value, icon, iconBgColor, trend, trendLabel, inverseTrend = false }) => {\n    \n    let trendColor = 'text-gray-500';\n    let TrendIcon = null;\n\n    if (trend !== undefined && trend !== 0) {\n        const isPositive = trend > 0;\n        // Se inverseTrend é true (gastos), aumento (positivo) é ruim (vermelho), queda (negativo) é bom (verde)\n        const isBad = inverseTrend ? isPositive : !isPositive;\n        \n        trendColor = isBad ? 'text-red-500' : 'text-green-500';\n        TrendIcon = isPositive ? 'north_east' : 'south_east';\n    }\n\n    return (\n        <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-between h-full hover:shadow-md transition-shadow\">\n            <div className=\"flex justify-between items-start mb-2\">\n                <div className={`w-12 h-12 min-w-[3rem] min-h-[3rem] flex items-center justify-center rounded-xl flex-shrink-0 aspect-square ${iconBgColor} text-white shadow-sm`}>\n                    {icon}\n                </div>\n                {trend !== undefined && (\n                    <div className={`flex items-center gap-1 text-xs font-bold px-2 py-1 rounded-full bg-gray-50 ${trendColor}`}>\n                        {TrendIcon && <span className=\"material-symbols-outlined text-xs\">{TrendIcon}</span>}\n                        {Math.abs(trend).toFixed(1)}%\n                    </div>\n                )}\n            </div>\n            <div>\n                <p className=\"text-sm font-medium text-gray-500 mb-1\">{title}</p>\n                <h3 className=\"text-2xl font-bold text-gray-800\">{value}</h3>\n                {trendLabel && <p className=\"text-xs text-gray-400 mt-1\">{trendLabel}</p>}\n            </div>\n        </div>\n    );\n};\n\nexport const Reports: React.FC<ReportsProps> = ({ expenses, isLoadingExpenses }) => {\n    const [period, setPeriod] = useState<Period>('this-month');\n    const [customStartDate, setCustomStartDate] = useState('');\n    const [customEndDate, setCustomEndDate] = useState('');\n\n    // --- LÓGICA DE DATAS E COMPARAÇÃO ---\n    \n    // 1. Define o range atual\n    const currentRangeExpenses = useMemo(() => {\n        return filterExpensesByPeriod(expenses, period, customStartDate, customEndDate);\n    }, [expenses, period, customStartDate, customEndDate]);\n\n    // 2. Define o range anterior para comparação\n    const previousRangeExpenses = useMemo(() => {\n        let prevPeriod: Period = 'last-month'; // default fallback\n        \n        // Lógica simples para \"Período Anterior\"\n        if (period === 'this-month') prevPeriod = 'last-month';\n        // Para 'last-month', o anterior seria 2 meses atrás, mas vamos simplificar aqui ou implementar lógica customizada se necessário.\n        // Para simplificar a demo, vamos focar na comparação Mês Atual vs Mês Passado que é o caso de uso 90%.\n        \n        if (period === 'last-7-days') {\n            // Precisaríamos de uma lógica customizada em 'filterExpensesByPeriod' para \"7 a 14 dias atrás\", \n            // mas por enquanto vamos comparar com a média geral ou deixar 0 se complexo demais sem mexer no utils.\n            // Vamos assumir comparação com Mês Anterior para simplificar ou implementar lógica de datas manuais.\n            return []; \n        }\n\n        if (period === 'custom') return []; // Sem comparação para custom por enquanto\n\n        return filterExpensesByPeriod(expenses, prevPeriod, '', '');\n    }, [expenses, period]);\n\n    // --- CÁLCULOS KPI ---\n\n    const calculateStats = (data: Expense[]) => {\n        const income = data.filter(e => e.type === 'income').reduce((sum, e) => sum + e.total, 0);\n        const expense = data.filter(e => e.type === 'expense' || !e.type).reduce((sum, e) => sum + e.total, 0);\n        return { income, expense, balance: income - expense };\n    };\n\n    const currentStats = useMemo(() => calculateStats(currentRangeExpenses), [currentRangeExpenses]);\n    const previousStats = useMemo(() => calculateStats(previousRangeExpenses), [previousRangeExpenses]);\n\n    const calculateTrend = (current: number, previous: number) => {\n        if (previous === 0) return current > 0 ? 100 : 0;\n        return ((current - previous) / previous) * 100;\n    };\n\n    const expenseTrend = useMemo(() => calculateTrend(currentStats.expense, previousStats.expense), [currentStats, previousStats]);\n    const incomeTrend = useMemo(() => calculateTrend(currentStats.income, previousStats.income), [currentStats, previousStats]);\n    const balanceTrend = useMemo(() => calculateTrend(currentStats.balance, previousStats.balance), [currentStats, previousStats]);\n\n    const hasPreviousData = previousRangeExpenses.length > 0 && period !== 'custom';\n\n    // --- DADOS PARA GRÁFICOS ---\n\n    // 1. Fluxo de Caixa (Income vs Expense por dia/agrupado)\n    const cashFlowData = useMemo(() => {\n        const dailyMap = new Map<string, { income: number, expense: number }>();\n        \n        currentRangeExpenses.forEach(e => {\n            const day = new Date(e.purchaseDate + 'T00:00:00').toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' });\n            const current = dailyMap.get(day) || { income: 0, expense: 0 };\n            \n            if (e.type === 'income') current.income += e.total;\n            else current.expense += e.total;\n            \n            dailyMap.set(day, current);\n        });\n\n        return Array.from(dailyMap.entries())\n            .map(([date, vals]) => ({ name: date, Receitas: vals.income, Despesas: vals.expense }))\n            .sort((a, b) => {\n                const [da, ma] = a.name.split('/').map(Number);\n                const [db, mb] = b.name.split('/').map(Number);\n                return ma - mb || da - db;\n            });\n    }, [currentRangeExpenses]);\n\n    // 2. Ranking de Categorias (Horizontal) - Apenas Despesas\n    const categoryRanking = useMemo(() => {\n        const expensesOnly = currentRangeExpenses.filter(e => e.type === 'expense' || !e.type);\n        const map = new Map<string, number>();\n        let totalExpenses = 0;\n\n        expensesOnly.forEach(e => {\n            const current = map.get(e.category) || 0;\n            map.set(e.category, current + e.total);\n            totalExpenses += e.total;\n        });\n\n        return Array.from(map.entries())\n            .map(([name, value]) => ({ name, value, percentage: (value / totalExpenses) * 100 }))\n            .sort((a, b) => b.value - a.value);\n    }, [currentRangeExpenses]);\n\n    // 3. Heatmap Data (Calendário)\n    const heatmapData = useMemo(() => {\n        const expensesOnly = currentRangeExpenses.filter(e => e.type === 'expense' || !e.type);\n        const map = new Map<number, number>();\n        let maxDaily = 0;\n\n        expensesOnly.forEach(e => {\n            const day = parseInt(e.purchaseDate.split('-')[2]);\n            const current = map.get(day) || 0;\n            const newVal = current + e.total;\n            map.set(day, newVal);\n            if (newVal > maxDaily) maxDaily = newVal;\n        });\n\n        // Gera array de 1 a 31 (simplificado)\n        return Array.from({ length: 31 }, (_, i) => {\n            const day = i + 1;\n            const value = map.get(day) || 0;\n            const intensity = maxDaily > 0 ? value / maxDaily : 0;\n            return { day, value, intensity };\n        });\n    }, [currentRangeExpenses]);\n\n    const exportToCSV = () => {\n        if (currentRangeExpenses.length === 0) {\n            alert(\"Nenhuma transação para exportar.\");\n            return;\n        }\n        const headers = [\"Data\", \"Local\", \"Tipo\", \"Categoria\", \"Valor\", \"Forma Pagamento\"].join(\",\");\n        const csvRows = currentRangeExpenses.map(e => {\n            return [\n                `\"${e.purchaseDate}\"`,\n                `\"${e.localName}\"`,\n                `\"${e.type === 'income' ? 'Receita' : 'Despesa'}\"`,\n                `\"${e.category}\"`,\n                `${e.total.toFixed(2)}`,\n                `\"${e.paymentMethod}\"`\n            ].join(\",\");\n        });\n        const csvContent = \"data:text/csv;charset=utf-8,\" + [headers, ...csvRows].join(\"\\n\");\n        const encodedUri = encodeURI(csvContent);\n        const link = document.createElement(\"a\");\n        link.setAttribute(\"href\", encodedUri);\n        link.setAttribute(\"download\", `relatorio_meugasto_${period}.csv`);\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    };\n\n    const dateInputClasses = \"w-full pl-10 pr-4 py-2.5 bg-white text-gray-800 text-sm font-medium rounded-xl border border-gray-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all cursor-pointer\";\n\n    return (\n        <div className=\"p-4 space-y-8 pb-20\">\n            {/* Filtros */}\n            <div className=\"bg-white p-2 rounded-2xl shadow-sm border border-gray-100 overflow-x-auto\">\n                <div className=\"flex gap-2 min-w-max\">\n                    <button onClick={() => setPeriod('this-month')} className={`px-4 py-2 text-sm font-bold rounded-xl transition-all ${period === 'this-month' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-50'}`}>Este Mês</button>\n                    <button onClick={() => setPeriod('last-month')} className={`px-4 py-2 text-sm font-bold rounded-xl transition-all ${period === 'last-month' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-50'}`}>Mês Passado</button>\n                    <button onClick={() => setPeriod('last-7-days')} className={`px-4 py-2 text-sm font-bold rounded-xl transition-all ${period === 'last-7-days' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-50'}`}>7 Dias</button>\n                    <button onClick={() => setPeriod('custom')} className={`px-4 py-2 text-sm font-bold rounded-xl transition-all ${period === 'custom' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-50'}`}>Personalizado</button>\n                </div>\n                {period === 'custom' && (\n                    <div className=\"mt-3 grid grid-cols-2 gap-3 p-3 border-t border-gray-50\">\n                        <div className=\"relative\">\n                            <label className=\"text-xs font-bold text-gray-400 uppercase ml-1 mb-1 block\">Início</label>\n                            <div className=\"relative group\">\n                                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                                    <CalendarTodayIcon className=\"text-gray-400 group-hover:text-blue-500 transition-colors\" />\n                                </div>\n                                <input \n                                    type=\"date\" \n                                    value={customStartDate} \n                                    onChange={e => setCustomStartDate(e.target.value)} \n                                    onClick={(e) => {\n                                        try { e.currentTarget.showPicker(); } catch (err) { }\n                                    }}\n                                    className={dateInputClasses}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"relative\">\n                            <label className=\"text-xs font-bold text-gray-400 uppercase ml-1 mb-1 block\">Fim</label>\n                            <div className=\"relative group\">\n                                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                                    <CalendarTodayIcon className=\"text-gray-400 group-hover:text-blue-500 transition-colors\" />\n                                </div>\n                                <input \n                                    type=\"date\" \n                                    value={customEndDate} \n                                    onChange={e => setCustomEndDate(e.target.value)} \n                                    onClick={(e) => {\n                                        try { e.currentTarget.showPicker(); } catch (err) { }\n                                    }}\n                                    className={dateInputClasses}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {currentRangeExpenses.length === 0 ? (\n                <div className=\"text-center py-20 text-gray-400\">\n                    <div className=\"bg-gray-100 p-6 rounded-full inline-block mb-4\">\n                        <ShowChartIcon className=\"text-4xl opacity-40\" />\n                    </div>\n                    <p className=\"font-medium\">Sem dados neste período.</p>\n                </div>\n            ) : (\n                <>\n                    {/* KPI Cards */}\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        <StatCard \n                            title=\"Saídas Totais\" \n                            value={currentStats.expense.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} \n                            icon={<span className=\"material-symbols-outlined text-2xl\">trending_down</span>}\n                            iconBgColor=\"bg-red-500\"\n                            trend={hasPreviousData ? expenseTrend : undefined}\n                            trendLabel={hasPreviousData ? \"vs. período anterior\" : undefined}\n                            inverseTrend={true} // Aumento de gasto é ruim\n                        />\n                        <StatCard \n                            title=\"Entradas Totais\" \n                            value={currentStats.income.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} \n                            icon={<TrendingUpIcon className=\"text-2xl\" />}\n                            iconBgColor=\"bg-green-500\"\n                            trend={hasPreviousData ? incomeTrend : undefined}\n                            trendLabel={hasPreviousData ? \"vs. período anterior\" : undefined}\n                        />\n                        <StatCard \n                            title=\"Saldo do Período\" \n                            value={currentStats.balance.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} \n                            icon={<WalletIcon className=\"text-2xl\" />}\n                            iconBgColor={currentStats.balance >= 0 ? \"bg-blue-500\" : \"bg-orange-500\"}\n                            trend={hasPreviousData ? balanceTrend : undefined}\n                            trendLabel={hasPreviousData ? \"vs. período anterior\" : undefined}\n                        />\n                    </div>\n\n                    {/* Gráfico 1: Fluxo de Caixa (Bar Chart Duplo) */}\n                    <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100\">\n                        <h3 className=\"font-bold text-gray-800 mb-6 flex items-center gap-2\">\n                            <span className=\"bg-blue-50 text-blue-600 p-1.5 rounded-lg\">\n                                <span className=\"material-symbols-outlined text-lg\">bar_chart</span>\n                            </span>\n                            Fluxo de Caixa (Dia a Dia)\n                        </h3>\n                        <div className=\"h-64\">\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <BarChart data={cashFlowData} margin={{ top: 5, right: 0, left: -20, bottom: 0 }}>\n                                    <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#f0f0f0\" />\n                                    <XAxis dataKey=\"name\" tick={{ fontSize: 10, fill: '#9ca3af' }} axisLine={false} tickLine={false} />\n                                    <YAxis tick={{ fontSize: 10, fill: '#9ca3af' }} axisLine={false} tickLine={false} tickFormatter={(val) => `R$${val}`} />\n                                    <Tooltip \n                                        contentStyle={{ borderRadius: '12px', border: 'none', boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)' }}\n                                        formatter={(val: number) => val.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}\n                                    />\n                                    <Legend verticalAlign=\"top\" height={36} iconType=\"circle\" wrapperStyle={{ fontSize: '12px' }}/>\n                                    <Bar dataKey=\"Receitas\" fill=\"#10B981\" radius={[4, 4, 0, 0]} barSize={8} />\n                                    <Bar dataKey=\"Despesas\" fill=\"#EF4444\" radius={[4, 4, 0, 0]} barSize={8} />\n                                </BarChart>\n                            </ResponsiveContainer>\n                        </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                        {/* Gráfico 2: Ranking de Categorias (Horizontal Progress Bars) */}\n                        <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100\">\n                            <h3 className=\"font-bold text-gray-800 mb-6 flex items-center gap-2\">\n                                <span className=\"bg-purple-50 text-purple-600 p-1.5 rounded-lg\">\n                                    <CategoryIcon className=\"text-lg\" />\n                                </span>\n                                Top Gastos por Categoria\n                            </h3>\n                            <div className=\"space-y-4\">\n                                {categoryRanking.map((cat, idx) => (\n                                    <div key={idx} className=\"group\">\n                                        <div className=\"flex justify-between items-center mb-1\">\n                                            <div className=\"flex items-center gap-3\">\n                                                <div className=\"w-8 h-8 min-w-[2rem] min-h-[2rem] rounded-full bg-gray-50 flex items-center justify-center text-gray-500 flex-shrink-0 shrink-0 aspect-square\">\n                                                    <span className=\"material-symbols-outlined text-sm\">{getCategoryIcon(cat.name)}</span>\n                                                </div>\n                                                <span className=\"text-sm font-medium text-gray-700\">{cat.name}</span>\n                                            </div>\n                                            <div className=\"text-right\">\n                                                <span className=\"block text-sm font-bold text-gray-800\">{cat.value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</span>\n                                                <span className=\"text-[10px] text-gray-400\">{cat.percentage.toFixed(1)}%</span>\n                                            </div>\n                                        </div>\n                                        <div className=\"w-full bg-gray-100 rounded-full h-2 overflow-hidden\">\n                                            <div \n                                                className=\"h-full bg-purple-500 rounded-full transition-all duration-1000 ease-out\" \n                                                style={{ width: `${cat.percentage}%` }}\n                                            ></div>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n\n                        {/* Gráfico 3: Calendário de Intensidade (Heatmap) */}\n                        <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100\">\n                            <div className=\"flex justify-between items-center mb-6\">\n                                <h3 className=\"font-bold text-gray-800 flex items-center gap-2\">\n                                    <span className=\"bg-orange-50 text-orange-600 p-1.5 rounded-lg\">\n                                        <CalendarTodayIcon className=\"text-lg\" />\n                                    </span>\n                                    Intensidade de Gastos\n                                </h3>\n                                <span className=\"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded\">Dias do Mês</span>\n                            </div>\n                            \n                            <div className=\"grid grid-cols-7 gap-2\">\n                                {heatmapData.map((d) => {\n                                    // Calcula a cor baseada na intensidade (0 a 1)\n                                    // Baixo: cinza/verde claro -> Alto: Vermelho forte\n                                    let bgClass = \"bg-gray-50 text-gray-400\";\n                                    if (d.value > 0) {\n                                        if (d.intensity < 0.2) bgClass = \"bg-red-50 text-red-800 border border-red-100\";\n                                        else if (d.intensity < 0.5) bgClass = \"bg-red-200 text-red-900\";\n                                        else if (d.intensity < 0.8) bgClass = \"bg-red-400 text-white\";\n                                        else bgClass = \"bg-red-600 text-white font-bold shadow-sm\";\n                                    }\n\n                                    return (\n                                        <div \n                                            key={d.day} \n                                            className={`w-full aspect-square rounded-lg flex flex-col items-center justify-center text-xs transition-transform hover:scale-110 cursor-default ${bgClass}`}\n                                            style={{ aspectRatio: '1/1' }}\n                                            title={`Dia ${d.day}: ${d.value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}`}\n                                        >\n                                            <span>{d.day}</span>\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                            <div className=\"mt-4 flex justify-between items-center text-[10px] text-gray-400 px-1\">\n                                <span>Menor Gasto</span>\n                                <div className=\"flex gap-1\">\n                                    <div className=\"w-3 h-3 bg-red-50 rounded-sm\"></div>\n                                    <div className=\"w-3 h-3 bg-red-200 rounded-sm\"></div>\n                                    <div className=\"w-3 h-3 bg-red-400 rounded-sm\"></div>\n                                    <div className=\"w-3 h-3 bg-red-600 rounded-sm\"></div>\n                                </div>\n                                <span>Maior Gasto</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"flex justify-end pt-4\">\n                        <button onClick={exportToCSV} className=\"flex items-center gap-2 px-6 py-3 bg-gray-800 text-white rounded-xl hover:bg-gray-900 transition-colors text-sm font-bold shadow-lg active:scale-95\">\n                            <DownloadIcon className=\"text-lg\" />\n                            Baixar CSV Completo\n                        </button>\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};"],"names":["_excluded","_excluded2","_typeof","o","ownKeys","t","r","_objectSpread","_defineProperty","obj","key","value","_toPropertyKey","i","_toPrimitive","e","_extends","target","source","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","Background","props","fill","fillOpacity","x","y","width","height","ry","React","renderLineItem","option","lineItem","isFunction","x1","y1","x2","y2","others","_filterProps","filterProps","restOfFilteredProps","HorizontalGridLines","_props$horizontal","horizontal","horizontalPoints","items","entry","lineItemProps","VerticalGridLines","_props$vertical","vertical","verticalPoints","HorizontalStripes","horizontalFill","_props$horizontal2","roundedSortedHorizontalPoints","a","b","lastStripe","lineHeight","colorIndex","VerticalStripes","_props$vertical2","verticalFill","roundedSortedVerticalPoints","lineWidth","defaultVerticalCoordinatesGenerator","_ref","syncWithTicks","xAxis","offset","getCoordinatesOfGrid","getTicks","CartesianAxis","getTicksOfAxis","defaultHorizontalCoordinatesGenerator","_ref2","yAxis","defaultProps","CartesianGrid","_props$stroke","_props$fill","_props$horizontal3","_props$horizontalFill","_props$vertical3","_props$verticalFill","chartWidth","useChartWidth","chartHeight","useChartHeight","useOffset","propsIncludingDefaults","isNumber","horizontalValues","verticalValues","useArbitraryXAxis","useYAxisWithFiniteDomainOrRandom","verticalCoordinatesGenerator","horizontalCoordinatesGenerator","isHorizontalValues","generatorResult","warn","isVerticalValues","_generatorResult","getCategoryIcon","category","StatCard","title","icon","iconBgColor","trend","trendLabel","inverseTrend","trendColor","TrendIcon","isPositive","jsxs","jsx","Reports","expenses","isLoadingExpenses","period","setPeriod","useState","customStartDate","setCustomStartDate","customEndDate","setCustomEndDate","currentRangeExpenses","useMemo","filterExpensesByPeriod","previousRangeExpenses","prevPeriod","calculateStats","data","income","sum","expense","currentStats","previousStats","calculateTrend","current","previous","expenseTrend","incomeTrend","balanceTrend","hasPreviousData","cashFlowData","dailyMap","day","date","vals","da","ma","db","mb","categoryRanking","expensesOnly","map","totalExpenses","name","heatmapData","maxDaily","newVal","_","intensity","exportToCSV","headers","csvRows","csvContent","encodedUri","link","dateInputClasses","CalendarTodayIcon","ShowChartIcon","Fragment","TrendingUpIcon","WalletIcon","ResponsiveContainer","BarChart","XAxis","YAxis","val","Tooltip","Legend","Bar","CategoryIcon","cat","idx","d","bgClass","DownloadIcon"],"mappings":"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","x_google_ignoreList":[0]}